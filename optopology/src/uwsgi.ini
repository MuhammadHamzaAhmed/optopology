[uwsgi]
http = :5017
wsgi-file = app.py
callable = app
single-interpreter = true
master = true
processes = 2
threads = 4
enable-threads = true

req-logger = file:/usr/src/applogs/reqlog
logger = file:/usr/src/applogs/errlog

# Auto-reload for development (disable in production)
py-autoreload = 1

# ===========================================
# Performance & Reliability
# ===========================================
# Reload workers after this many requests (prevents memory leaks)
max-requests = 5000
# Reload worker if it takes longer than 60s
harakiri = 60
# Restart workers gracefully
reload-mercy = 10
# Vacuum (clean up) on exit
vacuum = true
# Die on term signal
die-on-term = true
